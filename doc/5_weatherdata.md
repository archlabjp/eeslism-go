# 5. 気象データファイル

気象データの名前は、引用するデータ名をGDATの中で指定するので、そこで指定する名前と引用されるファイル名が一致していればよい。

ファイルの書式は80バイト×7レコードを1日分とするカードイメージであるＨＡＳＰ用気象データの書式をそのまま用い、先頭に80バイトの地名、緯度、経度などのデータを追加したものである。

先頭のデータは次のとおりである。

```
name  lat.  long.  ls.                  dum1 dum2 dum3 ------------

地名  緯度°  経度°  標準子午線の経度° 
```
ここで、緯度、経度の単位は°であり、小数点以下についても分、秒ではなく、°に換算する。緯度は、北緯を正、南緯を負で表し、経度は東経を正、西経を負とする。dum1、dum2、dum3 は、他のプログラムと気象データの互換性を保つための数値であり、EESLISMでは使用しない。dum3以降のデータは読み飛ばされるが、データ長を80バイトにする必要があるので、後部を `------------`で埋めておく。

気象データは、気温、絶対湿度、法線面直達日射量、水平面天空日射量、雲量、風向、風速での７要素であり、これらの要素ごとに１時間毎のデータで２４時間分が各80バイトの単位で、次のような書式で記録されている。１日分は80バイト×7レコードである。

```
1～3バイト     １時のデータ
4～6           ２時のデータ
・
・
69～72         ２４時のデータ
73,74          年(標準気象データのときは 0 )
75,76          月
77,78          日
79             曜日コード(使用しない)
80             気象要素種別(カードのときの順序確認用)
```

各要素は1データ3桁の整数に変換してあり記録方法および要素の順序は以下による。

|  |  |
| --- | --- |
| 気温 | 観測値 [℃]×10+500 |
| 絶対湿度 | 観測値 [kg/kg]×10000 |
| 法線面直達日射量 | 観測値 [kcal/m2h] |
| 水平面天空日射量 | 観測値 [kcal/m2h] |
| 雲量 | 観測値 (10分比) |
| 風向 | 観測値 (16方位) |
| 風速 | 観測値 [m/s]×10 |

ただし、雲量の代わりに夜間放射を使用する場合がある。

|  |  |
| --- | --- |
| 夜間放射\* | 観測値 [W/m2] |


\*この場合にはGDATデータで気象データファイル名をしてするとき、`-skyrd`の指定をする。(2.3.3参照)

次に東京の気象データの例を示した。

```
Tokyo  
35.68 139.77 135.0  15.4 11.3  3.667 --------------------------------- 
544540537534532531531534540556573590599605606601593585582580579577575573 0 1 111 
30 29 28 28 28 28 30 31 32 34 36 37 38 39 39 38 38 38 38 39 40 40 40 41 0 1 112 
0  0  0  0  0  0  0102426554552481281261142  0  0  0  0  0  0  0  0  0 0 1 113 
0  0  0  0  0  0 10 47 80 88 98113138118 78 40  5  0  0  0  0  0  0  0 0 1 114 
7  7  6  7  7  8  6  4  2  3  4  5  4  3  2  5  7 10 10 10 10 10 10 10 0 1 115 
15 16 16 16 15 15 15 16 16  2  4  6  6  7  7  6  4  3  2  2  1  1  1  1 0 1 116 
25 29 32 30 27 25 22 18 15 12 10 7  7  8  8 13 17 22 20 19 17 21 24 28 0 1 117 
569565561557553551553557563569575580583584584581576570565560554548541533 0 1 221 
42 43 44 45 45 46 40 38 36 33 30 27 26 26 27 29 31 33 33 33 32 32 32 33 0 1 222 
0  0  0  0  0  0  0  0211497580671376 18  0 42  0  0  0  0  0  0  0  0 0 1 223 
0  0  0  0  0  0 10 60 95 95 94 81126137 90 42  0  0  0  0  0  0  0  0 0 1 224 
10 10 10 10 10 10  8  9 10  9  8  7  8  9 10  9  7  6  7  9 10 10 10 10 0 1 225 
1 16 16 16 15 15 16  1  1  1 16 16 16 16 16  1  2  3  2  2  1  1 16 16 0 1 226 
24 21 17 20 24 27 27 27 26 34 42 50 41 31 22 28 34 40 39 38 37 32 28 23 0 1 227 

(途中省略)

21 22 24 25 26 27 28 29 30 29 28 27 26 26 26 28 30 31 33 33 33 33 31 30 0123112 
0  0  0  0  0  0 36411589624601452345398242 14  0  0  0  0  0  0  0  0 0123113 
0  0  0  0  0  0 11 47 63 77 90118127 98 78 32  5  0  0  0  0  0  0  0 0123114 
0  0  0  0  0  0  0  0  0  1  1  2  1  1  0  3  7 10  7  4  1  3  6  8 0123115 
14 12 11 11 12 12 12 12 12 13 15 16 14 11  9  7  5  3  1 16 14 14 15 15 0123116 
15 15 15 13 12 10 9  9  8 15 21 28 24 21 17 14 10  7  9 11 13 16 19 22 0123117 
END
```