2.9 ファイル上のデータによる条件設定(VCFILEデータ)

2.9.1 VCFILE

VCFILEは、時刻別データのファイルであり、気象観測値を含む各種実測値やEESLISM自

身からの出力データをシミュレーションおいて使用するときに用いる。複数のファイルを

VCFILEとすることができる。

(１)システムデータセットにおけるデータファイルの定義方法

VCFILE

*Fname* -f *filename* ;

\* (VCFILEの終了)

*fname*はファイル引用名、*filename*はデータファイル名である。VCFILEとして使用でき るのは、後述する書式でヘッダー部、項目名リスト、時刻別データが記述されたデータである。 EESLISMよりの出力ファイル*outfile*\_sc.es、*outfile*\_dc.es は VCFILE の書式であ る。

VCFILEデータはSYSCMPデータより前に定義する。

(２)引用法

1) SYSCMPデータにおける流入条件設定、制御設定値、周囲温度(-env)などとして引用する ときの書式は次の通りである。

*fname*\_*dataname*

*fname* はVCFILEデータで指定したファイル引用名、 *dataname* はデータファイル中の項 目名である。

2) 気象データとして使用するときの引用法は、

Wd\_*name*

である。*name*は気象データ項目名である。(2.9.2 VCFILEデータとして使用する気象データ の書式」の項を参照)

GDATデータで気象データファイルを定義しなかったとき、VCFILEデータで気象データフ

ァイルが定義されると仮定される。この場合の気象データの書式はVCFIELEデータファイル の形式に従う。

3) VCFILE データは、書式の項で述べるように、時刻別データであり、計算に関する指定デ

ータGDATのRUNで指定する計算開始日と終了日のデータを含む必要がある。RUNの計算開始

日は、使用する全てのVCFILEデータの最初の月日より後とする。また、RUNで指定する終了

日は、VCFILEデータの最後の日より前とする。計算開始日以前のVCFILEデータは、読みと ばされる。

また、VCFILEデータで、1月1日～12月31日まで１年分のデータを用意した場合、12月 以降も続けて計算するときには、読み込むデータは1月1日に戻る。

(３)VCFILEデータの書式(気象データを除く)

VCFILEデータの書式はEESLISM3.0よりの出力ファイルと同じであり以下の通りである。

EESLISM3.0 よりの出力ファイルのヘッダー部にはもっと多くの項目が含まれていている。

EESLISM4.5/EESLISM5.0よりの出力ファイルをそのまま用いてもよいが、VCFILEデータ

しては最低限以下を含むものとする。(余分なヘッダー部のデータは読み飛ばされる。)

ヘッダー部

-*dat*#

識別子、*dat*は任意の英字２文字

-tmid *timeid*

時間データの表示法

(各時刻において月、日、時刻が表示されるとき MDT)

-Ndata *Ndata*

データ項目名の総数(各時刻ごとの時刻データを除くデータ個数)

#(ヘッダー部終了)

項目名リスト

*dataname*1 *vtype ptype dataname*2 *vtype ptype*

*dataname*Ndata *vtype ptype*

*datanam*は項目名で要素名と識別記号で構成される。

*vtype*、*ptype*はデータの種別を表す記号である。

時刻別データ

*mon day tt.mm* 月、日、時刻(-tmid MDTのとき)

*data*1 *data*2 *data*Ndata

*mon day tt.mm* *data*Ndata

-999 (データの終了)

時刻別データは時刻ごとのデータを計算計算開始日から計算全期間について用意する。デー タは -999 を読み込むと終了とみなされる。 *data*は項目名リストの順番に並んだデータで ある。

2.9.2 VCFILEデータとして使用する気象データの書式

気象データをVCFILEデータ書式で入力する場合には以下による。

ヘッダー部

|  |  |
| --- | --- |
| \_Wdata# -t *title* ; | 題目 |
| -tid h  -tmid MDT | 時刻別データであることの指定 |
| -dtm xxx | 時間間隔 [s] |
| -Ndata *Ndata* | 各時刻ごとのデータ個数 |
| -wdloc *name* | 地名 |
| Lat=xxx | 緯度 [°] Lon=xxx 経度 [°] |
| Ls=xxx | 標準子午線[°]  (地中温度計算用気温データ) |
| Tgrav=xxx | 年平均気温 [℃] |
| DTgr=xxx | 気温年較差 [℃] |
| daymx=xxx | 日平均気温の年最高気温が発生する日の通日 |
| -Twsup *Tw*1 | *Tw*2 *Tw*12 ; |

1月から12月までの各月のの月平均市水温度(必ず12ヶ月分記入する)

(気象データをVCFILEデータから入力する場合、 supwfile.eflの給水温度は無視され る。)

#(ヘッダー部分の終了)

データ項目リスト書式

Wd\_T t f [ Wd\_x x Wd\_Idn q Wd\_Isky q [ Wd\_Ihor [ Wd\_CC t [ Wd\_RN q [ Wd\_RH r [ Wd\_Wv t [ Wd\_wdre

f ]\*

f

f

q f ]\*\*\*

f ]\*\*

f ]

f ]\*

f ]

t f ]

気温 [℃]

絶対温度 [kg/kg]

法線面直達日射 [W/㎡]

水平面天空日射 [W/㎡]

水平面全天日射 [W/㎡]

雲量 (0-10)

夜間放射 [W/㎡]

相対湿度 [%]

風速 [m/s]

風向 (0-16)

使用しない気象データは入力しなくてもよい。

Wd\_xxxの後のq f、 t f、r f 等の識別子は省略してもよい。

例えば、気温を示す

“Wd\_T t f” は “Wd\_T”

と同じである。

\* 絶対湿度、相対湿度のどちらか入力すればよい。

\*\* 夜間放射を入力しないときは、夜間放射は湿度、雲量より計算される。

\*\*\* 水平面全天日射量を入力しないときはIdn,Isky より計算される。ただし、 VCFILE データで気象データとして法線面直達日射、水平面天空日射を入力する 場合には計算されない。

データ書式

一般のVCFILEデータと同じである。

